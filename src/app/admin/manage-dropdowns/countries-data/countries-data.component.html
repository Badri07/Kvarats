<div class="space-y-6">
  <!-- Header -->
  <div class="flex justify-between items-center">
    <div>
      <!-- <h2 class="text-2xl font-semibold text-gray-900">Countries Data</h2> -->
      <p class="text-gray-600 mt-1">Manage country information including states, cities, and mobile prefix codes.</p>
    </div>
    <button
      (click)="showAddForm()"
      class="customBtn-secondary"
    >
      <!-- <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
      </svg> -->
      Add Country
    </button>
  </div>

  <!-- Form -->
  <div *ngIf="showForm" class="card p-6">
    <h3 class="text-lg font-medium text-gray-900 mb-4">
      {{ isEditing ? 'Edit Country' : 'Add New Country' }}
    </h3>
    
    <form [formGroup]="countryForm" (ngSubmit)="onSubmit()">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Country Name</label>
          <input
            type="text"
            formControlName="country"
            class="form-control"
            placeholder="Enter country name"
          >
          <div *ngIf="countryForm.get('country')?.invalid && countryForm.get('country')?.touched" class="text-red-500 text-sm mt-1">
            Country name is required and must be less than 255 characters.
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Mobile Prefix Code</label>
          <input
            type="text"
            formControlName="mobilePrefixCode"
            class="form-control"
            placeholder="e.g., +1"
          >
          <div *ngIf="countryForm.get('mobilePrefixCode')?.invalid && countryForm.get('mobilePrefixCode')?.touched" class="text-red-500 text-sm mt-1">
            Mobile prefix code is required.
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">State Name</label>
          <input
            type="text"
            formControlName="stateName"
            class="form-control"
            placeholder="Enter state name"
          >
          <div *ngIf="countryForm.get('stateName')?.invalid && countryForm.get('stateName')?.touched" class="text-red-500 text-sm mt-1">
            State name is required.
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">State Code</label>
          <input
            type="text"
            formControlName="stateCode"
            class="form-control"
            placeholder="e.g., CA"
          >
          <div *ngIf="countryForm.get('stateCode')?.invalid && countryForm.get('stateCode')?.touched" class="text-red-500 text-sm mt-1">
            State code is required.
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">City Name</label>
          <input
            type="text"
            formControlName="cityName"
            class="form-control"
            placeholder="Enter city name"
          >
          <div *ngIf="countryForm.get('cityName')?.invalid && countryForm.get('cityName')?.touched" class="text-red-500 text-sm mt-1">
            City name is required.
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Zip Code</label>
          <input
            type="text"
            formControlName="zipCode"
            class="form-control"
            placeholder="Enter zip code"
          >
          <div *ngIf="countryForm.get('zipCode')?.invalid && countryForm.get('zipCode')?.touched" class="text-red-500 text-sm mt-1">
            Zip code is required.
          </div>
        </div>

        <div class="md:col-span-2">
          <label class="flex items-center">
            <input
              type="checkbox"
              formControlName="active"
              class="rounded border-gray-300 text-primary-600 focus:ring-primary-500"
            >
            <span class="ml-2 text-sm text-gray-700">Active</span>
          </label>
        </div>
      </div>

      <div class="flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200">
        <button
          type="button"
          (click)="cancelForm()"
          class="btn-secondary"
        >
          Cancel
        </button>
        <button
          type="submit"
          [disabled]="countryForm.invalid"
          class="customBtn-secondary disabled:opacity-50 disabled:cursor-not-allowed"
        >
          {{ isEditing ? 'Update' : 'Create' }} Country
        </button>
      </div>
    </form>
  </div>


<div *ngIf="isshowTable">
<ag-grid-angular
  class="ag-theme-alpine"
  [rowData]="rowData"
  [columnDefs]="columnDefs"
  [defaultColDef]="defaultColDef"
  [paginationPageSize]="paginationPageSize"
  [paginationPageSizeSelector]="paginationPageSizeSelector"
  (cellClicked)="onCellClicked($event)"
  style="width: 100%; height: 500px">
</ag-grid-angular>

<!-- Table Wrapper -->
<div class="bg-white rounded-b-xl border-t-0 border border-gray-200 shadow-sm">

  <!-- Table here -->
  <table class="min-w-full text-sm text-left">
    <!-- Your table headers and rows -->
  </table>

  <!-- Pagination Footer -->
  <div class="flex flex-col md:flex-row justify-between items-center gap-4 px-4 py-3 border-t border-gray-200 text-sm text-gray-700">
    
    <!-- Left: Page Size + Info -->
    <div class="flex flex-col md:flex-row items-center gap-4">
      <!-- Page Size Selector -->
      <div class="flex items-center gap-2">
        <label for="pageSize" class="font-medium">Page Size:</label>
        <select id="pageSize"
                [(ngModel)]="paginationPageSize"
                (change)="onPageSizeChange()"
                class="border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-orange-500">
          <option *ngFor="let size of paginationPageSizeSelector" [value]="size">{{ size }}</option>
        </select>
      </div>

      <!-- Page Info -->
      <div>
        Showing <span class="font-semibold">{{ pageStart }}</span> to
        <span class="font-semibold">{{ pageEnd }}</span> of
        <span class="font-semibold">{{ totalCount }}</span> records
      </div>
    </div>

    <!-- Right: Pagination Controls -->
    <div class="flex items-center gap-2 ml-auto">
      <button (click)="goToPreviousPage()"
              [disabled]="currentPage === 1"
              class="px-4 py-1.5 rounded bg-orange-500 text-white disabled:bg-gray-300 disabled:cursor-not-allowed">
        Previous
      </button>

      <span>
        Page <span class="font-semibold">{{ currentPage }}</span> of
        <span class="font-semibold">{{ totalPages }}</span>
      </span>

      <button (click)="goToNextPage()"
              [disabled]="currentPage === totalPages"
              class="px-4 py-1.5 rounded bg-orange-500 text-white disabled:bg-gray-300 disabled:cursor-not-allowed">
        Next
      </button>
    </div>

  </div>
</div>

</div>
</div>

<!-- Delete Confirmation Dialog -->
<app-confirm-dialog
  *ngIf="showDeleteConfirm"
  title="Delete Country"
  message="Are you sure you want to delete this country? This action cannot be undone."
  confirmText="Delete"
  cancelText="Cancel"
  (confirm)="deleteCountry()"
  (cancel)="cancelDelete()"
></app-confirm-dialog>